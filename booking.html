<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Booking System</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxwx9IOUvKqNLXLEC7LpZbo2hSidLzkSY&libraries=places"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</head>

<body style="background-color: #d1d9dd;">

    <!-- Fullscreen Background Video -->
    <div class="video-background">
        <iframe
            src="https://www.youtube.com/embed/8YtDUED47Rs?autoplay=1&mute=1&loop=1&playlist=8YtDUED47Rs&controls=0&showinfo=0&modestbranding=1"
            frameborder="0"
            allow="autoplay; encrypted-media"
            allowfullscreen>
        </iframe>
    </div>    
    
    <!-- Booking System -->
    <div class="container mt-5">
        <div class="quote-book-tool p-4 bg-white rounded shadow">
            <h2 class="text-center mb-4">Plan & Book Your Journey</h2>

            <!-- Tab Navigation -->
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#flight-tab" type="button" role="tab">
                        <i class="fas fa-plane"></i> Flights
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#hotel-tab" type="button" role="tab">
                        <i class="fas fa-hotel"></i> Hotels
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#chauffeur-tab" type="button" role="tab">
                        <i class="fas fa-car"></i> Chauffeurs
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tour-tab" type="button" role="tab">
                        <i class="fas fa-route"></i> Tours
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#summary-tab" type="button" role="tab">
                        <i class="fas fa-list-alt"></i> Booking Summary
                    </button>
                </li>
            </ul>

            <!-- Tab Content -->
            <div class="tab-content mt-4">
                <!-- Flights Tab -->
                <div class="tab-pane fade show active" id="flight-tab" role="tabpanel">
                    <form id="flight-form">
                        <h4>Flight Details</h4>
                        <div class="row">
                            <!-- Departure Airport -->
                            <div class="col-md-6">
                                <label for="departure-airport" class="form-label">Departure Airport</label>
                                <select id="departure-airport" class="form-select" required>
                                    <option value="">Select Airport</option>
                                    <!-- Dynamically populated -->
                                </select>
                            </div>
                            <!-- Arrival Airport -->
                            <div class="col-md-6">
                                <label for="arrival-airport" class="form-label">Arrival Airport</label>
                                <select id="arrival-airport" class="form-select" required>
                                    <option value="">Select Airport</option>
                                    <!-- Dynamically populated -->
                                </select>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Departure Date -->
                            <div class="col-md-6">
                                <label for="flight-date" class="form-label">Departure Date</label>
                                <input type="date" id="flight-date" class="form-control" required>
                            </div>
                            <!-- Departure Time -->
                            <div class="col-md-6">
                                <label for="flight-time" class="form-label">Departure Time</label>
                                <input type="time" id="flight-time" class="form-control" required>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Cabin Type -->
                            <div class="col-md-6">
                                <label for="cabin-type" class="form-label">Cabin Type</label>
                                <select id="cabin-type" class="form-select" required>
                                    <option value="">Select Cabin Type</option>
                                    <option value="economy">Economy</option>
                                    <option value="business">Business</option>
                                    <option value="first">First Class</option>
                                </select>
                            </div>
                            <!-- Number of Adults -->
                            <div class="col-md-3">
                                <label for="adults" class="form-label">Adults</label>
                                <input type="number" id="adults" class="form-control" min="1" value="1" required>
                            </div>
                            <!-- Number of Children -->
                            <div class="col-md-3">
                                <label for="children" class="form-label">Children</label>
                                <input type="number" id="children" class="form-control" min="0" value="0">
                            </div>
                        </div>
                        <div id="return-flight-section" style="display: none;">
                            <h5 class="mt-4">Return Flight Details</h5>
                            <div class="row mt-3">
                                <!-- Return Date -->
                                <div class="col-md-6">
                                    <label for="return-date" class="form-label">Return Date</label>
                                    <input type="date" id="return-date" class="form-control">
                                </div>
                                <!-- Return Time -->
                                <div class="col-md-6">
                                    <label for="return-time" class="form-label">Return Time</label>
                                    <input type="time" id="return-time" class="form-control">
                                </div>
                            </div>
                        </div>
                        <!-- Add Return Flight Checkbox -->
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="checkbox" id="add-return-flight">
                            <label class="form-check-label" for="add-return-flight">Add Return Flight</label>
                        </div>
                        <!-- Add to Booking Button -->
                        <button type="button" class="btn btn-success w-100 mt-4" id="add-flight">Add to Booking</button>
                    </form>
                    <!-- Map for Flights -->
                    <div id="flight-map" style="height: 300px;" class="mt-4"></div>
                </div>

                <!-- Hotel Tab -->
                <div class="tab-pane fade" id="hotel-tab" role="tabpanel">
                    <form id="hotel-form">
                        <h4>Hotel Details</h4>
                        <div class="row">
                            <!-- Hotel Name -->
                            <div class="col-md-6">
                                <label for="hotel-name" class="form-label">Hotel Name</label>
                                <select id="hotel-name" class="form-select" required>
                                    <option value="">Select Hotel</option>
                                    <!-- Dynamically populated -->
                                </select>
                            </div>
                            <!-- Room Type -->
                            <div class="col-md-6">
                                <label for="room-type" class="form-label">Room Type</label>
                                <select id="room-type" class="form-select" required>
                                    <option value="">Select Room Type</option>
                                    <option value="single">Single</option>
                                    <option value="double">Double</option>
                                    <option value="suite">Suite</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Check-in Date -->
                            <div class="col-md-6">
                                <label for="checkin-date" class="form-label">Check-in Date</label>
                                <input type="date" id="checkin-date" class="form-control" required>
                            </div>
                            <!-- Check-out Date -->
                            <div class="col-md-6">
                                <label for="checkout-date" class="form-label">Check-out Date</label>
                                <input type="date" id="checkout-date" class="form-control" required>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Number of Rooms -->
                            <div class="col-md-6">
                                <label for="num-rooms" class="form-label">Number of Rooms</label>
                                <input type="number" id="num-rooms" class="form-control" min="1" required>
                            </div>
                            <!-- Number of Guests -->
                            <div class="col-md-6">
                                <label for="num-guests" class="form-label">Number of Guests</label>
                                <input type="number" id="num-guests" class="form-control" min="1" required>
                            </div>
                        </div>
                        <!-- Additional Options -->
                        <div class="mt-3">
                            <h6>Additional Options</h6>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="baby-cot">
                                <label class="form-check-label" for="baby-cot">Baby Cot</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="extra-bed">
                                <label class="form-check-label" for="extra-bed">Extra Bed</label>
                            </div>
                        </div>
                        <!-- Add to Booking Button -->
                        <button type="button" class="btn btn-success w-100 mt-4" id="add-hotel">Add to Booking</button>
                    </form>
                    <!-- Map for Hotels -->
                    <div id="hotel-map" style="height: 300px;" class="mt-4"></div>
                </div>

                <!-- Chauffeur Tab -->
                <div class="tab-pane fade" id="chauffeur-tab" role="tabpanel">
                    <form id="chauffeur-form">
                        <h4>Chauffeur Details</h4>
                        <div class="row">
                            <!-- Pickup Location -->
                            <div class="col-md-6">
                                <label for="pickup-location" class="form-label">Pickup Location</label>
                                <select id="pickup-location" class="form-select" required>
                                    <option value="">Select Pickup Location</option>
                                    <!-- Dynamically populated -->
                                </select>
                            </div>
                            <!-- Drop-off Location -->
                            <div class="col-md-6">
                                <label for="dropoff-location" class="form-label">Drop-off Location</label>
                                <select id="dropoff-location" class="form-select" required>
                                    <option value="">Select Drop-off Location</option>
                                    <!-- Dynamically populated -->
                                </select>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Pickup Date -->
                            <div class="col-md-6">
                                <label for="chauffeur-date" class="form-label">Pickup Date</label>
                                <input type="date" id="chauffeur-date" class="form-control" required>
                            </div>
                            <!-- Pickup Time -->
                            <div class="col-md-6">
                                <label for="chauffeur-time" class="form-label">Pickup Time</label>
                                <input type="time" id="chauffeur-time" class="form-control" required>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Vehicle Type -->
                            <div class="col-md-6">
                                <label for="vehicle-type" class="form-label">Vehicle Type</label>
                                <select id="vehicle-type" class="form-select" required>
                                    <option value="">Select Vehicle</option>
                                    <option value="standard">Standard</option>
                                    <option value="executive">Executive</option>
                                    <option value="luxury">Luxury</option>
                                    <option value="mpv">MPV</option>
                                </select>
                            </div>
                            <!-- Number of Passengers -->
                            <div class="col-md-6">
                                <label for="num-passengers" class="form-label">Number of Passengers</label>
                                <input type="number" id="num-passengers" class="form-control" min="1" max="7" required>
                            </div>
                        </div>
                        <!-- Child Seats -->
                        <div class="mt-3">
                            <h6>Child Seats</h6>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="child-seat">
                                <label class="form-check-label" for="child-seat">Child Seat</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="booster-seat">
                                <label class="form-check-label" for="booster-seat">Booster Seat</label>
                            </div>
                        </div>
                        <div id="return-chauffeur-section" style="display: none;">
                            <h5 class="mt-4">Return Chauffeur Details</h5>
                            <div class="row mt-3">
                                <!-- Return Date -->
                                <div class="col-md-6">
                                    <label for="return-chauffeur-date" class="form-label">Return Date</label>
                                    <input type="date" id="return-chauffeur-date" class="form-control">
                                </div>
                                <!-- Return Time -->
                                <div class="col-md-6">
                                    <label for="return-chauffeur-time" class="form-label">Return Time</label>
                                    <input type="time" id="return-chauffeur-time" class="form-control">
                                </div>
                            </div>
                        </div>
                        <!-- Add Return Chauffeur Checkbox -->
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="checkbox" id="add-return-chauffeur">
                            <label class="form-check-label" for="add-return-chauffeur">Add Return Chauffeur</label>
                        </div>
                        <!-- Add to Booking Button -->
                        <button type="button" class="btn btn-success w-100 mt-4" id="add-chauffeur">Add to Booking</button>
                    </form>
                    <!-- Map for Chauffeurs -->
                    <div id="chauffeur-map" style="height: 300px;" class="mt-4"></div>
                </div>

                <!-- Tours Tab -->
                <div class="tab-pane fade" id="tour-tab" role="tabpanel">
                    <form id="tour-form">
                        <h4>Tour Details</h4>
                        <div class="row">
                            <!-- Tour Destination -->
                            <div class="col-md-6">
                                <label for="tour-destination" class="form-label">Tour Destination</label>
                                <select id="tour-destination" class="form-select" required>
                                    <option value="">Select Destination</option>
                                    <!-- Dynamically populated -->
                                </select>
                            </div>
                            <!-- Tour Date -->
                            <div class="col-md-6">
                                <label for="tour-date" class="form-label">Tour Date</label>
                                <input type="date" id="tour-date" class="form-control" required>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Number of People -->
                            <div class="col-md-6">
                                <label for="tour-num-people" class="form-label">Number of People</label>
                                <input type="number" id="tour-num-people" class="form-control" min="1" required>
                            </div>
                            <!-- Tour Type -->
                            <div class="col-md-6">
                                <label for="tour-type" class="form-label">Tour Type</label>
                                <select id="tour-type" class="form-select" required>
                                    <option value="">Select Type</option>
                                    <option value="educational">Educational</option>
                                    <option value="adventure">Adventure</option>
                                    <option value="luxury">Luxury</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <!-- Tour Level -->
                            <div class="col-md-12">
                                <label for="tour-level" class="form-label">Tour Level</label>
                                <select id="tour-level" class="form-select" required>
                                    <option value="">Select Level</option>
                                    <option value="standard">Standard</option>
                                    <option value="premium">Premium</option>
                                    <option value="premium">Exclusive</option>
                                    <option value="premium">Luxury</option>
                                </select>
                            </div>
                        </div>
                        <!-- Add to Booking Button -->
                        <button type="button" class="btn btn-success w-100 mt-4" id="add-tour">Add to Booking</button>
                    </form>
                    <!-- Map for Tours -->
                    <div id="tour-map" style="height: 300px;" class="mt-4"></div>
                </div>

                <!-- Booking Summary Tab -->
                <div class="tab-pane fade" id="summary-tab" role="tabpanel">
                    <div id="booking-summary">
                        <h4 class="text-center">Booking Summary</h4>
                        <ul id="summary-list" class="list-group"></ul>
                        <button type="button" class="btn btn-primary w-100 mt-4" id="book-journey">Book Your Journey</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Customer Information -->
    <div class="modal fade" id="customer-info-modal" tabindex="-1" aria-labelledby="customerInfoLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="customerInfoLabel">Customer Information</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="customer-info-form">
                        <div class="mb-3">
                            <label for="customer-name" class="form-label">Name</label>
                            <input type="text" id="customer-name" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="customer-email" class="form-label">Email</label>
                            <input type="email" id="customer-email" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="customer-phone" class="form-label">Phone</label>
                            <input type="text" id="customer-phone" class="form-control" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="confirm-booking">Confirm Booking</button>
                </div>
            </div>
        </div>
    </div>    
    
    <!-- Popup Overlay -->
    <div id="popup-overlay" class="d-none"></div>
    
    
    <!-- Popup Message -->
    <div id="popup-message" class="popup-container d-none">
        <div class="popup-content text-center p-4 rounded shadow">
            <button type="button" class="close-popup btn-close position-absolute top-0 end-0 m-2" aria-label="Close"></button>
            <h5 class="mb-3">Yay! üéâ</h5>
            <p>Flight added to booking summary! ‚úàÔ∏èüè®üöó</p>
            <div class="d-flex justify-content-center gap-3">
                <a href="#summary-tab" class="btn btn-primary go-to-summary">Go to Booking Summary</a>
                <button type="button" class="btn btn-secondary" id="add-more">Add More</button>
            </div>
        </div>
    </div>

</body>

<style>
/* General body styling */
body {
    background-color: #d1d9dd;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

/* Fullscreen video background */
.video-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1; /* Ensure it's behind all content */
    overflow: hidden;
}

.video-background iframe {
    width: 120vw; /* Scales to cover the screen */
    height: 120vh;
    position: absolute;
    top: -10vh; /* Adjust for vertical centering */
    left: -10vw; /* Adjust for horizontal centering */
    pointer-events: none; /* Prevent interaction with the video */
}

/* Booking Tool Styles */
.quote-book-tool {
    background: rgba(255, 255, 255, 0.95); /* Slight transparency */
    padding: 30px;
    border-radius: 12px; /* Rounded corners */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); /* Soft shadow */
    margin: auto;
    max-width: 900px; /* Limit maximum width */
}

/* Booking tool headings */
.quote-book-tool h2 {
    font-size: 1.8rem;
    font-weight: bold;
    color: #333;
    text-align: center;
    margin-bottom: 20px;
}

/* Navigation Tab Styles */
.nav-tabs .nav-link {
    color: #333; /* Default text color */
    font-weight: bold;
    border: none; /* Remove borders */
    text-transform: uppercase;
}

.nav-tabs .nav-link:hover {
    background-color: #f2f2f2; /* Light gray hover */
}

.nav-tabs .nav-link.active {
    background-color: #F2BA1E; /* Highlight active tab */
    color: white;
    border-radius: 5px;
}

/* Tab Content Styling */
.tab-content {
    margin-top: 20px;
}

/* Form Styling */
.form-label {
    font-weight: bold;
    color: #333;
    margin-bottom: 5px;
}

.form-control,
.form-select {
    border-radius: 6px; /* Rounded corners */
    border: 1px solid #ccc; /* Light gray border */
    padding: 10px; /* Comfortable padding */
    font-size: 0.9rem;
}

/* Highlight invalid form fields */
.is-invalid {
    border-color: red;
}

/* Button Styling */
.btn {
    border-radius: 6px; /* Slightly rounded corners */
    font-weight: bold; /* Bold text */
    text-transform: uppercase; /* Capitalize text */
    color: #FFFFFF; /* White text */
    background-color: #5a5a5a; /* Dark gray background */
}

/* Button hover effect */
.btn:hover {
    background-color: #F2BA1E; /* Yellow on hover */
    color: #FFFFFF;
}

/* Success button styling */
.btn-success {
    background-color: #5a5a5a; /* Override success button color */
    color: #FFFFFF;
}

/* Success button hover effect */
.btn-success:hover {
    background-color: #F2BA1E; /* Yellow on hover */
}

/* Primary button styling */
.btn-primary {
    background-color: #5a5a5a;
    color: #FFFFFF;
}

/* Primary button hover effect */
.btn-primary:hover {
    background-color: #F2BA1E;
}

/* Secondary button styling */
.btn-secondary {
    background-color: #5a5a5a;
    color: #FFFFFF;
}

/* Secondary button hover effect */
.btn-secondary:hover {
    background-color: #F2BA1E;
}

/* Map Sections */
#flight-map,
#hotel-map,
#chauffeur-map,
#tour-map {
    background-color: #f9f9f9; /* Light background */
    border: 1px solid #ddd; /* Border styling */
    border-radius: 6px; /* Rounded corners */
    height: 300px; /* Consistent height */
    margin-top: 20px;
}

/* Popup Styling */
#popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.5); /* Dim background */
    z-index: 999; /* Below popup but above everything else */
    display: none; /* Hidden by default */
}


#popup-overlay.d-none {
    display: none; /* Hide the overlay when the class is applied */
}

#popup-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white !important;
    padding: 0; /* Adds some spacing inside the popup */
    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.2); /* Soft shadow for depth */
    border-radius: 12px;
    z-index: 1000;
    width: 90%;
    max-width: 500px;
}


.popup-container {
    box-shadow: none !important; /* Remove shadow from the container */
    background-color: transparent !important; /* Ensure no background */
}


/* Popup content layout */
#popup-message .popup-content {
    position: relative;
    text-align: center;
}

/* Popup close button */
#popup-message .btn-close {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 1.2rem;
    color: #333;
    cursor: pointer;
}

/* Popup headings */
#popup-message h5 {
    font-size: 1.6rem;
    font-weight: bold;
    color: #333;
    margin-bottom: 15px;
}

/* Popup message text */
#popup-message p {
    font-size: 1rem;
    color: #666;
    margin-bottom: 20px;
}

#popup-message .btn {
    font-size: 1rem; /* Increase font size slightly */
    padding: 8px 20px; /* Adjust padding for better spacing */
    white-space: nowrap; /* Prevent text from wrapping */
    width: auto; /* Let the button size adjust dynamically */
    text-align: center; /* Center-align text */
}

/* Booking Summary Styling */
#summary-list {
    list-style: none; /* Remove bullets */
    padding-left: 0;
    margin-top: 10px;
}

#summary-list li {
    padding: 15px; /* Add more padding for better spacing */
    border-bottom: 1px solid #ccc; /* Separator between items */
    position: relative; /* For positioning the "x" button */
    display: flex; /* Use flexbox for better alignment */
    align-items: center; /* Vertically align items */
    justify-content: space-between; /* Push text and button to opposite ends */
}

#summary-list li:last-child {
    border-bottom: none;
}

/* Remove button styling */
#summary-list .remove-item {
    background-color: red;
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 1.2rem;
    width: 25px;
    height: 25px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    margin-left: 10px; /* Add spacing between text and button */
}

/* Optional hover effect for remove button */
#summary-list .remove-item:hover {
    background-color: darkred;
}

/* Adjust text within the summary items */
#summary-list li strong {
    display: inline-block;
    margin-right: 10px; /* Add spacing after labels */
}

#summary-list li div {
    flex-grow: 1; /* Allow the text to grow to take up available space */
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .quote-book-tool {
        padding: 20px;
    }

    .form-label {
        font-size: 0.9rem;
    }

    .form-control,
    .form-select {
        font-size: 0.8rem;
    }

    #popup-message {
        width: 90%; /* Adjust popup for smaller screens */
    }

    .nav-tabs .nav-link {
        font-size: 0.85rem;
    }
}

@media (max-width: 576px) {
    #popup-message {
        padding: 20px;
        width: 95%;
    }

    #popup-message h5 {
        font-size: 1.4rem;
    }

    #popup-message .btn {
        font-size: 0.85rem;
    }
}

</style>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function () {
    // ========== Data Initialization ==========
    const airports = [
        "London Heathrow Terminal 1 (LHR-T1)",
        "London Heathrow Terminal 2 (LHR-T2)",
        "London Heathrow Terminal 3 (LHR-T3)",
        "London Heathrow Terminal 4 (LHR-T4)",
        "London Heathrow Terminal 5 (LHR-T5)",
        "London Gatwick North Terminal (LGW-N)",
        "London Gatwick South Terminal (LGW-S)",
        "Manchester Terminal 1 (MAN-T1)",
        "Manchester Terminal 2 (MAN-T2)",
        "Manchester Terminal 3 (MAN-T3)",
        "Edinburgh Airport (EDI)",
        "Birmingham Airport (BHX)",
        "Glasgow Airport (GLA)",
        "Bristol Airport (BRS)",
        "Belfast International (BFS)",
        "Belfast City George Best Airport (BHD)",
        "Newcastle Airport (NCL)",
        "London City Airport (LCY)",
        "Leeds Bradford Airport (LBA)",
        "Liverpool John Lennon (LPL)",
        "London Stansted Airport (STN)",
        "London Luton Airport (LTN)",
        "Aberdeen Airport (ABZ)",
        "Southampton Airport (SOU)",
        "East Midlands Airport (EMA)",
        "Cardiff Airport (CWL)",
        "Inverness Airport (INV)",
        "London Southend Airport (SEN)",
        "Exeter Airport (EXT)",
        "Norwich Airport (NWI)",
        "Doncaster Sheffield Airport (DSA)",
        "Humberside Airport (HUY)",
        "Durham Tees Valley Airport (MME)",
        "Isle of Man Airport (IOM)",
        "Jersey Airport (JER)",
        "Guernsey Airport (GCI)"
    ];    

    const hotels = [
        // London Heathrow
        "Sofitel London Heathrow - Terminal 5",
        "Hilton Garden Inn London Heathrow - Terminal 2 & 3",
        "Premier Inn London Heathrow - Bath Road",
        "Holiday Inn Express London Heathrow - Terminal 4",
        "Radisson Blu Edwardian Heathrow Hotel - London",
    
        // London Gatwick
        "Hilton London Gatwick - South Terminal",
        "Courtyard by Marriott London Gatwick - South Terminal",
        "Travelodge London Gatwick Airport - Central",
    
        // Manchester Airport
        "Clayton Hotel Manchester Airport - Near Terminals",
        "Radisson Blu Hotel Manchester Airport - Linked to Terminals",
        "DoubleTree by Hilton Hotel Manchester Airport",
        "Holiday Inn Manchester Airport - Wilmslow Road",
    
        // Edinburgh Airport
        "Hilton Edinburgh Airport - Near Terminal",
        "Moxy Edinburgh Airport - Walking Distance to Terminal",
    
        // Birmingham Airport
        "Hampton by Hilton Birmingham Airport - Solihull",
        "Novotel Birmingham Airport - Adjacent to Terminal",
        "Ibis Birmingham Airport - Budget-Friendly Stay",
    
        // Glasgow Airport
        "Holiday Inn Glasgow Airport - Opposite Terminal",
        "Courtyard by Marriott Glasgow Airport - Paisley",
        "Premier Inn Glasgow Airport - Affordable Comfort",
    
        // Bristol Airport
        "Hampton by Hilton Bristol Airport - On-Site Hotel",
        "Holiday Inn Bristol Airport - Langford Road",
    
        // Belfast
        "Malmaison Belfast - Luxury Boutique Hotel",
        "Titanic Hotel Belfast - Historical Experience",
        "AC Hotel by Marriott Belfast - Riverside Views",
    
        // Newcastle
        "Crowne Plaza Newcastle - Stephenson Quarter",
        "Maldron Hotel Newcastle - City Centre",
        "Jurys Inn Newcastle - Close to Train Station",
    
        // Leeds
        "Dakota Leeds - Luxury Stay in Leeds City Centre",
        "DoubleTree by Hilton Leeds - Granary Wharf",
        "Novotel Leeds Centre - Modern Comfort",
    
        // Stansted Airport
        "Radisson Blu Hotel London Stansted - Airport Connected",
        "Holiday Inn Express London Stansted - Near Terminal",
    
        // Luton Airport
        "Holiday Inn Express London Luton - Airport Park",
        "Hilton Garden Inn Luton North - Near Luton Town",
    
        // Aberdeen Airport
        "Mercure Aberdeen Airport Hotel - Modern Amenities",
    
        // Southampton Airport
        "Holiday Inn Southampton Airport - M3 Junction 7",
    
        // East Midlands Airport
        "Village Hotel Nottingham - Near East Midlands Airport",
    
        // Cardiff Airport
        "Celtic Manor Resort Cardiff - 5-Star Experience",
        "Holiday Inn Cardiff Airport - Convenient Stay",
    
        // Inverness Airport
        "Kingsmills Hotel Inverness - Historic Charm",
        "Holiday Inn Express Inverness - Budget-Friendly Stay",
    
        // Norwich Airport
        "Holiday Inn Norwich Airport - Near Terminal",
    
        // Doncaster Airport
        "Ramada by Wyndham Doncaster - Close to Terminal",
    
        // Other Famous Locations
        "The Ritz London - Iconic Luxury Hotel (London)",
        "The Savoy Hotel London - World-Renowned Service (London)",
        "The Langham London - Historic Elegance (London)",
        "The Balmoral Hotel - Overlooking Edinburgh Castle (Edinburgh)",
        "The Scotsman Hotel - Iconic Scottish Charm (Edinburgh)",
        "Old Course Hotel St Andrews - Near the Golf Course (St Andrews)",
        "Macdonald Rusacks Hotel - Overlooking St Andrews Golf (St Andrews)",
        "Grand Central Hotel - Heart of Glasgow City (Glasgow)",
        "The Principal York - Near York Railway Station (York)",
        "The Royal Crescent Hotel - Georgian Splendor (Bath)",
        "The Gainsborough Bath Spa - Luxury Spa Stay (Bath)",
        "Cliveden House Hotel - English Country House Charm (Berkshire)",
        "Chewton Glen Hotel - Luxury New Forest Retreat (New Forest)",
        "Lygon Arms Hotel - Iconic Cotswolds Stay (Broadway)",
        "Dormy House Hotel - Luxury Cotswolds Retreat (Broadway)",
        "Gravetye Manor - Historic Sussex Charm (West Sussex)",
        "Lucknam Park Hotel - Historic Retreat Near Bath (Chippenham)",
        "Bovey Castle - Countryside Elegance (Devon)",
        "Watergate Bay Hotel - Beachside Stay (Cornwall)",
        "The Scarlet Hotel - Eco-Luxury by the Sea (Cornwall)",
        "The Fife Arms - Artistic Scottish Hotel (Braemar)",
        "Hotel du Vin Birmingham - Boutique Stay in City Centre (Birmingham)",
        "Kimpton Clocktower Hotel - Grand Victorian Architecture (Manchester)"
    ];    

    // Tours and Packages
    const tours = [
        "London Highlights Tour", 
        "Scotland Adventure Tour",
        "Walse Adventure Tour",
        "Lake District Experience",
        "UK Grand Tour",
    ];

    // Pricing
    const pricing = {
    flights: { economy: 100, business: 300, first: 500 },
    hotels: { single: 80, double: 120, suite: 250 },
    chauffeur: { standard: 50, executive: 100, luxury: 200, mpv: 150 },
    tours: { educational: 50, adventure: 100, luxury: 200 },
};

    // ========== Populate Dropdowns ==========
    airports.forEach((airport) => {
        $('#departure-airport, #arrival-airport, #pickup-location').append(
            `<option value="${airport}">${airport}</option>`
        );
    });

    hotels.forEach((hotel) => {
        $('#hotel-name, #dropoff-location').append(`<option value="${hotel}">${hotel}</option>`);
    });

    tours.forEach((tour) => {
        $('#tour-destination').append(`<option value="${tour}">${tour}</option>`);
    });

    // ========== Global Variables ==========
    const selectedBookings = {
        flights: [], hotels: [], chauffeurs: [], tours: []
    };

    // ========== Utility Functions ==========
    // Validate form fields and highlight invalid ones
    function validateForm(formId) {
        let isValid = true;
        $(`#${formId} [required]`).each(function () {
            if (!$(this).val()) {
                $(this).addClass('is-invalid');
                isValid = false;
            } else {
                $(this).removeClass('is-invalid');
            }
        });
        return isValid;
    }

    // Reset a form to its initial state
    function resetForm(formId) {
        $(`#${formId}`)[0].reset();
        $(`#${formId} .form-check-input`).prop('checked', false);
        $(`#${formId} .is-invalid`).removeClass('is-invalid');
    }

    // Disable the selected departure airport from appearing in arrival options
    function disableArrivalAirport() {
        const selected = $('#departure-airport').val();
        $('#arrival-airport option').each(function () {
            $(this).prop('disabled', $(this).val() === selected);
        });
    }

    // Update the booking summary dynamically
    function updateSummary() {
        const summaryList = $('#summary-list');
        summaryList.empty();

        let totalCost = 0; // Track the total cost of the booking

        // Flights
        selectedBookings.flights.forEach((flight, index) => {
            const flightCost = 100 * flight.adults + 50 * flight.children; // Example pricing logic
            totalCost += flightCost;

            summaryList.append(`
                <li class="list-group-item">
                    <strong>Flight:</strong> ${flight.departure} to ${flight.arrival}, ${flight.date} at ${flight.time}
                    (Cabin: ${flight.cabin}, Adults: ${flight.adults}, Children: ${flight.children})
                    ${flight.return ? `Return: ${flight.returnDate} at ${flight.returnTime}` : ''}
                    <span class="float-end">Price: ¬£${flightCost}</span>
                    <button class="btn btn-sm btn-danger float-end remove-item" data-type="flights" data-index="${index}" style="margin-right: 10px;">X</button>
                </li>
            `);
        });

        // Hotels
        selectedBookings.hotels.forEach((hotel, index) => {
            const hotelCost = 100 * hotel.rooms; // Example pricing logic per room
            totalCost += hotelCost;

            summaryList.append(`
                <li class="list-group-item">
                    <strong>Hotel:</strong> ${hotel.name}, Check-in: ${hotel.checkin}, Check-out: ${hotel.checkout},
                    Rooms: ${hotel.rooms}, Guests: ${hotel.guests}, Extra: ${hotel.extra.join(", ")}
                    <span class="float-end">Price: ¬£${hotelCost}</span>
                    <button class="btn btn-sm btn-danger float-end remove-item" data-type="hotels" data-index="${index}" style="margin-right: 10px;">X</button>
                </li>
            `);
        });

        // Chauffeurs
        selectedBookings.chauffeurs.forEach((chauffeur, index) => {
            const chauffeurCost = 50 * chauffeur.passengers; // Example pricing logic per passenger
            totalCost += chauffeurCost;

            summaryList.append(`
                <li class="list-group-item">
                    <strong>Chauffeur:</strong> ${chauffeur.pickup} to ${chauffeur.dropoff}, ${chauffeur.date} at ${chauffeur.time}
                    (Vehicle: ${chauffeur.vehicle}, Passengers: ${chauffeur.passengers}, Seats: ${chauffeur.seats.join(", ")})
                    ${chauffeur.return ? `Return: ${chauffeur.returnDate} at ${chauffeur.returnTime}` : ''}
                    <span class="float-end">Price: ¬£${chauffeurCost}</span>
                    <button class="btn btn-sm btn-danger float-end remove-item" data-type="chauffeurs" data-index="${index}" style="margin-right: 10px;">X</button>
                </li>
            `);
        });

        // Tours
        selectedBookings.tours.forEach((tour, index) => {
            const tourPricing = {
                "London Highlights Tour": 100,
                "Scotland Adventure Tour": 150,
                "UK Grand Tour": 250,
                "Complete UK Experience": 300
            };

            const tourCost = tourPricing[tour.destination] * tour.people; // Calculate cost based on number of people
            totalCost += tourCost;

            summaryList.append(`
                <li class="list-group-item">
                    <strong>Tour:</strong> ${tour.destination}, ${tour.date}, People: ${tour.people}, Type: ${tour.type}, Level: ${tour.level}
                    <span class="float-end">Price: ¬£${tourCost}</span>
                    <button class="btn btn-sm btn-danger float-end remove-item" data-type="tours" data-index="${index}" style="margin-right: 10px;">X</button>
                </li>
            `);
        });

        // Display total cost
        summaryList.append(`
            <li class="list-group-item list-group-item-dark text-center">
                <strong>Total Cost: ¬£${totalCost}</strong>
            </li>
        `);
    }

    // ========== Popup Functions ==========
    function showPopup(message) {
        $('#popup-message .popup-content p').text(message);
        $('#popup-message').removeClass('d-none');
        $('#popup-overlay').removeClass('d-none'); // Show overlay
    }

    function closePopup() {
        $('#popup-message').addClass('d-none');
        $('#popup-overlay').addClass('d-none'); // Hide overlay
    }

    // Attach close event to buttons and the close icon
    $('.close-popup, #add-more').on('click', closePopup);

    // Navigate to the booking summary from popup
    $('#popup-message').on('click', '.btn-primary', function () {
        closePopup();
        $(".nav-tabs button[data-bs-target='#summary-tab']").tab('show');
    });

    // ========== Add to Booking Buttons ==========
    // Add flight to booking
    $('#add-flight').on('click', function () {
        if (validateForm('flight-form')) {
            const cabinType = $('#cabin-type').val();
            const adults = parseInt($('#adults').val());
            const children = parseInt($('#children').val() || 0);
            const price = pricing.flights[cabinType] * (adults + children * 0.5); // Children at 50% cost

            const flight = {
                departure: $('#departure-airport').val(),
                arrival: $('#arrival-airport').val(),
                date: $('#flight-date').val(),
                time: $('#flight-time').val(),
                cabin: cabinType,
                adults: adults,
                children: children,
                return: $('#add-return-flight').is(':checked'),
                returnDate: $('#return-date').val(),
                returnTime: $('#return-time').val(),
                price: price,
            };
            selectedBookings.flights.push(flight);
            updateSummary();
            showPopup(`Flight added! Price: ¬£${price}`);
            resetForm('flight-form');
        }
    });

    // Add hotel to booking
    $('#add-hotel').on('click', function () {
        if (validateForm('hotel-form')) {
            const roomType = $('#room-type').val();
            const numRooms = parseInt($('#num-rooms').val());
            const price = pricing.hotels[roomType] * numRooms;

            const hotel = {
                name: $('#hotel-name').val(),
                checkin: $('#checkin-date').val(),
                checkout: $('#checkout-date').val(),
                rooms: numRooms,
                guests: $('#num-guests').val(),
                extra: [
                    $('#baby-cot').is(':checked') ? "Baby Cot" : null,
                    $('#extra-bed').is(':checked') ? "Extra Bed" : null,
                ].filter(Boolean),
                price: price,
            };
            selectedBookings.hotels.push(hotel);
            updateSummary();
            showPopup(`Hotel added! Price: ¬£${price}`);
            resetForm('hotel-form');
        }
    });

    // Add chauffeur to booking
    $('#add-chauffeur').on('click', function () {
        if (validateForm('chauffeur-form')) {
            const vehicleType = $('#vehicle-type').val();
            const price = pricing.chauffeur[vehicleType];

            const chauffeur = {
                pickup: $('#pickup-location').val(),
                dropoff: $('#dropoff-location').val(),
                date: $('#chauffeur-date').val(),
                time: $('#chauffeur-time').val(),
                vehicle: vehicleType,
                passengers: $('#num-passengers').val(),
                seats: [
                    $('#child-seat').is(':checked') ? "Child Seat" : null,
                    $('#booster-seat').is(':checked') ? "Booster Seat" : null,
                ].filter(Boolean),
                return: $('#add-return-chauffeur').is(':checked'),
                returnDate: $('#return-chauffeur-date').val(),
                returnTime: $('#return-chauffeur-time').val(),
                price: price,
            };
            selectedBookings.chauffeurs.push(chauffeur);
            updateSummary();
            showPopup(`Chauffeur added! Price: ¬£${price}`);
            resetForm('chauffeur-form');
        }
    });

    // Add tour to booking
    $('#add-tour').on('click', function () {
        if (validateForm('tour-form')) {
            const tourType = $('#tour-type').val();
            const numPeople = parseInt($('#tour-num-people').val());
            const price = pricing.tours[tourType] * numPeople;

            const tour = {
                destination: $('#tour-destination').val(),
                date: $('#tour-date').val(),
                people: numPeople,
                type: tourType,
                level: $('#tour-level').val(),
                price: price,
            };
            selectedBookings.tours.push(tour);
            updateSummary();
            showPopup(`Tour added! Price: ¬£${price}`);
            resetForm('tour-form');
        }
    });

    // ========== Event Listeners ==========
    // Toggle return flight section
    $('#add-return-flight').on('change', function () {
        if ($(this).is(':checked')) {
            $('#return-flight-section').slideDown();
        } else {
            $('#return-flight-section').slideUp();
            $('#return-date, #return-time').val('');
        }
    });

        
    $('#book-journey').on('click', function () {
    $('#customer-info-modal').modal('show');
    });

    $('#confirm-booking').on('click', function () {
        const name = $('#customer-name').val();
        const email = $('#customer-email').val();
        const phone = $('#customer-phone').val();

        if (name && email && phone) {
            alert(`Booking confirmed for ${name}. A confirmation email will be sent to ${email}.`);
            $('#customer-info-modal').modal('hide');
        } else {
            alert('Please fill in all required fields.');
        }
    });

    // Toggle return chauffeur section
    $('#add-return-chauffeur').on('change', function () {
        if ($(this).is(':checked')) {
            $('#return-chauffeur-section').slideDown();
        } else {
            $('#return-chauffeur-section').slideUp();
            $('#return-chauffeur-date, #return-chauffeur-time').val('');
        }
    });

    // Disable arrival airport if it's selected as departure
    $('#departure-airport').on('change', disableArrivalAirport);

    // Remove item from summary
    $('#summary-list').on('click', '.remove-item', function () {
        const type = $(this).data('type');
        const index = $(this).data('index');
        selectedBookings[type].splice(index, 1);
        updateSummary();
    });
    
    // ========== MAP ==========
    // Google Maps instances
    let flightMap, chauffeurMap, hotelMap, flightDirectionsService, flightDirectionsRenderer, chauffeurDirectionsService, chauffeurDirectionsRenderer, hotelMarker;

    // Initialize Maps
    function initMaps() {
    // Flight Map
    flightMap = new google.maps.Map(document.getElementById("flight-map"), {
        center: { lat: 51.470020, lng: -0.454295 }, // Default: London Heathrow
        zoom: 6,
    });
    flightDirectionsService = new google.maps.DirectionsService();
    flightDirectionsRenderer = new google.maps.DirectionsRenderer();
    flightDirectionsRenderer.setMap(flightMap);

    // Chauffeur Map
    chauffeurMap = new google.maps.Map(document.getElementById("chauffeur-map"), {
        center: { lat: 51.470020, lng: -0.454295 }, // Default: London Heathrow
        zoom: 6,
    });
    chauffeurDirectionsService = new google.maps.DirectionsService();
    chauffeurDirectionsRenderer = new google.maps.DirectionsRenderer();
    chauffeurDirectionsRenderer.setMap(chauffeurMap);

    // Hotel Map
    hotelMap = new google.maps.Map(document.getElementById("hotel-map"), {
        center: { lat: 51.470020, lng: -0.454295 }, // Default: London Heathrow
        zoom: 10,
    });
    hotelMarker = new google.maps.Marker({ map: hotelMap });
}

    // Show flight route
    function showFlightRoute(departure, arrival) {
    flightDirectionsService.route(
        {
            origin: departure,
            destination: arrival,
            travelMode: google.maps.TravelMode.DRIVING,
        },
        (response, status) => {
            if (status === "OK") {
                flightDirectionsRenderer.setDirections(response);
            } else {
                alert("Could not display flight route: " + status);
            }
        }
    );
}

    // Show chauffeur route
    function showChauffeurRoute(pickup, dropoff) {
    chauffeurDirectionsService.route(
        {
            origin: pickup,
            destination: dropoff,
            travelMode: google.maps.TravelMode.DRIVING,
        },
        (response, status) => {
            if (status === "OK") {
                chauffeurDirectionsRenderer.setDirections(response);
            } else {
                alert("Could not display chauffeur route: " + status);
            }
        }
    );
}

    // Show hotel location
    function showHotelLocation(hotelAddress) {
    const geocoder = new google.maps.Geocoder();
    geocoder.geocode({ address: hotelAddress }, (results, status) => {
        if (status === "OK") {
            hotelMap.setCenter(results[0].geometry.location);
            hotelMarker.setPosition(results[0].geometry.location);
        } else {
            alert("Could not find hotel location: " + status);
        }
    });
}

    // Attach change event listeners to dropdowns
    $(document).ready(function () {
    initMaps();

    // Flights: Update points and routes on selection
    $('#departure-airport').on('change', function () {
        const departure = $(this).val();
        if (departure) {
            const geocoder = new google.maps.Geocoder();
            geocoder.geocode({ address: departure }, (results, status) => {
                if (status === "OK") {
                    flightMap.setCenter(results[0].geometry.location);
                }
            });
        }
    });

    $('#arrival-airport').on('change', function () {
        const departure = $('#departure-airport').val();
        const arrival = $(this).val();
        if (departure && arrival) {
            showFlightRoute(departure, arrival);
        }
    });

    // Chauffeur: Update points and routes on selection
    $('#pickup-location').on('change', function () {
        const pickup = $(this).val();
        if (pickup) {
            const geocoder = new google.maps.Geocoder();
            geocoder.geocode({ address: pickup }, (results, status) => {
                if (status === "OK") {
                    chauffeurMap.setCenter(results[0].geometry.location);
                }
            });
        }
    });

    $('#dropoff-location').on('change', function () {
        const pickup = $('#pickup-location').val();
        const dropoff = $(this).val();
        if (pickup && dropoff) {
            showChauffeurRoute(pickup, dropoff);
        }
    });

    // Hotels: Show pin on hotel selection
    $('#hotel-name').on('change', function () {
        const hotel = $(this).val();
        if (hotel) {
            showHotelLocation(hotel);
        }
    });
});

    // Initialize maps on page load
    initMaps();
});
</script>

</html>